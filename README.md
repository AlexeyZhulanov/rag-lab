–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ RAG. –í—ã–ø–æ–ª–Ω–∏–ª —Å—Ç—É–¥–µ–Ω—Ç –≥—Ä—É–ø–ø—ã –†–ò–°-25-1–º –ñ—É–ª–∞–Ω–æ–≤ –ê–ª–µ–∫—Å–µ–π

RAG Knowledge Telegram Bot (Gemma2 + ChromaDB)

Telegram-–±–æ—Ç –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–Ω–∞–Ω–∏—è–º–∏ –Ω–∞ –±–∞–∑–µ RAG (Retrieval-Augmented Generation).
–ë–æ—Ç —É–º–µ–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å—Ç–∞—Ç—å–∏ –∏ –≤–∏–¥–µ–æ, –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –Ω–∏–º, –∞ —Ç–∞–∫–∂–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–≤–∏–∑—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–Ω–∞–Ω–∏–π.

–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- LLM: gemma2:9b —á–µ—Ä–µ–∑ Ollama
- Vector DB: ChromaDB
- Telegram Bot: aiogram 3
- RAG-–ø–æ–∏—Å–∫ –ø–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã:

<img width="200" height="220" alt="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2025-12-14 150624" src="https://github.com/user-attachments/assets/086413e9-af44-49bb-9a41-a133ecf2850f" />
<img width="200" height="220" alt="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2025-12-14 150641" src="https://github.com/user-attachments/assets/d0fdd076-bd02-47ec-82ad-a14ea4c60d8a" />
<img width="200" height="220" alt="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2025-12-14 150754" src="https://github.com/user-attachments/assets/84e9c24c-448f-489b-82f9-634968f04878" />
<img width="200" height="220" alt="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2025-12-14 150852" src="https://github.com/user-attachments/assets/2c3466bd-fd7a-4e8d-b873-b0ec434b01de" />
<img width="200" height="220" alt="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2025-12-14 151057" src="https://github.com/user-attachments/assets/ef102c8b-d7b9-4f31-99fc-3361328363b9" />
<img width="200" height="220" alt="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2025-12-14 151804" src="https://github.com/user-attachments/assets/3bf74597-a89e-40fe-99db-1b5cde8b04d8" />
<img width="200" height="220" alt="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2025-12-14 151858" src="https://github.com/user-attachments/assets/94e809e4-ca8e-4c88-8144-b7577ade5511" />

–ë–æ—Ç —É–º–µ–µ—Ç –ø–∞—Ä—Å–∏—Ç—å (–∑–∞ —Å—á—ë—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ trafilatura):
- üåç –í–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã (Habr, drive2, –Ω–æ–≤–æ—Å—Ç–∏, —Å—Ç–∞—Ç—å–∏ –∏ —Ç.–¥.)
- üì∫ YouTube (—á–µ—Ä–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç -> –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ —Å–∞–º–º–∞—Ä–∏ -> —Ä–µ–∂–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —á–∞–Ω–∫–∏ -> —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É

‚ùì –í–æ–ø—Ä–æ—Å—ã –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (RAG)
- –ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å
- –ë–æ—Ç: —Ä–∞—Å—à–∏—Ä—è–µ—Ç –∑–∞–ø—Ä–æ—Å (query expansion) -> –∏—â–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –≤ ChromaDB -> –æ—Ç–≤–µ—á–∞–µ—Ç —Å—Ç—Ä–æ–≥–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ -> –í –æ—Ç–≤–µ—Ç–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫

üß† –ö–≤–∏–∑—ã –ø–æ —Å—Ç–∞—Ç—å—è–º
- –ö–æ–º–∞–Ω–¥–∞ /quiz
- –í—ã–±–æ—Ä —Å—Ç–∞—Ç—å–∏
- –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ (3, 5 –∏–ª–∏ 7)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç —Å –∫–Ω–æ–ø–∫–∞–º–∏
- –ü–æ–¥—Å—á—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

üóÇ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏ —Å—Ç–∞—Ç—å—è–º–∏
- –ö–æ–º–∞–Ω–¥–∞ /report
- –í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ç—å–∏ –ø—Ä—è–º–æ –∏–∑ –æ—Ç—á—ë—Ç–∞
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è (FSM)

üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç RAG
- –¢–µ–∫—Å—Ç —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —á–∞–Ω–∫–∏
- –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ –≤–µ–∫—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è (nomic-embed-text)
- –•—Ä–∞–Ω–∏—Ç—Å—è –≤ ChromaDB
- –ü—Ä–∏ –≤–æ–ø—Ä–æ—Å–µ:
  - –∑–∞–ø—Ä–æ—Å —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è LLM
  - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
  - LLM –æ—Ç–≤–µ—á–∞–µ—Ç —Å—Ç—Ä–æ–≥–æ –ø–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
project/
‚îÇ
‚îú‚îÄ bot/
‚îÇ   ‚îú‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ base.py          # /start, /report, —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ link_parse.py    # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Å—ã–ª–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ rag_query.py     # RAG-–æ—Ç–≤–µ—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ quiz.py          # –ª–æ–≥–∏–∫–∞ –∫–≤–∏–∑–∞ /quiz
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ states.py            # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îú‚îÄ keyboards.py         # inline / reply –∫–Ω–æ–ø–∫–∏
‚îÇ
‚îú‚îÄ rag/
‚îÇ   ‚îú‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ chroma.py            # —Ä–∞–±–æ—Ç–∞ —Å ChromaDB
‚îÇ   ‚îú‚îÄ utils.py             # split_text, expand_query
‚îÇ   ‚îú‚îÄ llm.py               # LLM-–ª–æ–≥–∏–∫–∞
‚îÇ
‚îú‚îÄ parsers/
‚îÇ   ‚îú‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ web_parser.py
‚îÇ   ‚îú‚îÄ yt_parser.py
‚îÇ
‚îú‚îÄ config.py                # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ ENV
‚îú‚îÄ main.py                  # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ requirements.txt
‚îî‚îÄ README.md
```
